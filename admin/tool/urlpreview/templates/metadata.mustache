{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template tool_urlpreview/metadata
    This is the template that renders the table containing the returned URL metadata.
    
    Example context (json):
    {
        "canonicalurl" : "https://moodle.org/logo/moodle-logo.svg", 
        "type" : "Example Article",
        "title" : "Example Title",
        "image" : "https://moodle.org/logo/moodle-logo.svg",
        "sitename" : "https://moodle.org/",
        "description" : "Example Description"
    }
}}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>URL preview metadata</title>
    <style>
        .content-truncate {
            max-width: 200px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .content{
            max-width: 680px;
        }
    </style>
</head>
<body>
    <div style="padding: 30px 0;">
        <table class="table table-sm table-bordered">
            <tr>
                <th>{{#str}}property, tool_urlpreview{{/str}}</th>
                <th>{{#str}}content, tool_urlpreview{{/str}}</th>
            </tr>
            <tr>
                <td>{{#str}}linkpreview, tool_urlpreview{{/str}}</td>
                <td class="content">
                    {{> core/url_preview_card}}
                </td>
            </tr>
            <tr>
                <td>{{#str}}slimpreview, tool_urlpreview{{/str}}</td>
                <td class="content">
                    {{> core/url_preview_slim}}
                </td>
            </tr>
            <tr>
                <td>og:url</td>
                <td class="content-truncate">{{#canonicalurl}}<a href="{{.}}" target="_blank">{{.}}</a>{{/canonicalurl}}{{^canonicalurl}}<i>{{#str}}notavailable{{/str}}</i>{{/canonicalurl}}</td>
            </tr>
            <tr>
                <td>og:type</td>
                <td class="content-truncate">
                {{#type}}{{.}}{{/type}}{{^type}}<i>{{#str}}notavailable{{/str}}</i>{{/type}}</td>
            </tr>
            <tr>
                <td>og:title</td>
                <td class="content-truncate">{{#title}}{{.}}{{/title}}{{^title}}<i>{{#str}}notavailable{{/str}}</i>{{/title}}</td>
            </tr>
            <tr>
                <td>og:image</td>
                <td class="content-truncate">{{#image}}<a target="_blank" href="{{.}}">{{.}}</a>{{/image}}{{^image}}<i>{{#str}}notavailable{{/str}}</i>{{/image}}</td>
            </tr>
            <tr>
                <td>og:site_name</td>
                <td class="content-truncate">{{#sitename}}{{.}}{{/sitename}}{{^sitename}}<i>{{#str}}notavailable{{/str}}</i>{{/sitename}}</td>
            </tr>
            <tr>
                <td>og:description</td>
                <td class="content-truncate">{{#description}}{{.}}{{/description}}{{^description}}<i>{{#str}}notavailable{{/str}}</i>{{/description}}</td>
            </tr>
        </table>
    </div>
</body>
</html>